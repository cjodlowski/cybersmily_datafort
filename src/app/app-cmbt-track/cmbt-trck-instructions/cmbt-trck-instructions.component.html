<div class="row csd-rounded">
  <div class="col-12">
    <div class="row">
      <div class="col-12">
        <div class="row">
          <div class="col-12">
            This is a utility to help manage combat for the referee in Cyberpunk 2020. Expand each title below to get
            instructions for each panel.
          </div>
        </div>
        <br>
        <div class="row">
          <div class="col-12">
            <h5 (click)="isTopMenuCollapsed = !isTopMenuCollapsed" [attr.aria-expanded]="!isTopMenuCollapsed"
              aria-controls="collapseTopMenu">
              <fa-icon [icon]="(isTopMenuCollapsed)?faAngleDoubleRight:faAngleDoubleDown" class="csd-dice"
                title="Collapse instructions section"></fa-icon>&nbsp;
              Top Menu Bar
            </h5>
          </div>
        </div>
        <div class="row" id="collapseTopMenu" [collapse]="isTopMenuCollapsed">
          <div class="col-12">
            <div class="row">

              <div class="col-12">
                <b><fa-icon [icon]="faSave" class="csd-icon-btn"></fa-icon> SAVE</b> -
                You will notice that the data is "sticky" from session to session. The data is store in the browser
                local
                storage.
                But that doesn't mean it is "saved". If you clear your local storage for the browser then this data will
                also be losted forever.
                This button will save the Tracker data as a JSON file to your local system.
                Just a bit of warning. If you mess with the contents you can corrupt the file unless you know how to
                work
                with JSON.
                Even then, you might not want to tinker with it too much.
              </div>
            </div>
            <div class="row">
              <div class="col-12">
                <b><fa-icon [icon]="faUpload" class="csd-icon-btn"></fa-icon> LOAD</b> - This will load the JSON file
                saved. You
                can try to upload other json files, but good chance they won't work.
              </div>
            </div>
            <div class="row">
              <div class="col-12">
                <b><fa-icon [icon]="faFileImport" class="csd-icon-btn"></fa-icon> IMPORT</b> - This will import the JSON
                file of a
                Cyberpunk2020 Character sheet from this site. Make sure the json file you select is a character sheet,
                else
                it won't work.
              </div>
            </div>
            <div class="row">
              <div class="col-12">
                <b><fa-icon [icon]="faRedo" class="csd-icon-btn"></fa-icon> RESET</b> - This will clear all the data
                from the
                tracker.
                If you haven't saved important work, it will delete and will be lost.
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <h5 (click)="isLeftCollapsed = !isLeftCollapsed" [attr.aria-expanded]="!isLeftCollapsed"
              aria-controls="collapseLeftPanel">
              <fa-icon [icon]="(isLeftCollapsed)?faAngleDoubleRight:faAngleDoubleDown" class="csd-dice"
                title="Collapse instructions section"></fa-icon>&nbsp;
              Left Panel - Initiative Tracker
            </h5>
            <div id="collapseLeftPanel" [collapse]="isLeftCollapsed">
              <p>
                The section on the left tracks the initiative order and combatants list.
              </p>
              <p>The top part of this section tracks the current initiatvie and turns. In this area you have:</p>
              <ul>
                <li>Init. click on the <fa-icon [icon]="faDice" class=" csd-icon-btn"></fa-icon> to roll initiative for all combatants. This will add in any modifiers for each of the combatants.</li>
                <li><fa-icon [icon]="faChevronUp" class=" csd-icon-btn"></fa-icon> will move the initiative to the preivous one in the order</li>
                <li>Current Initiative number with the combatant who is active for this initiative.</li>
                <li><fa-icon [icon]="faChevronDown" class=" csd-icon-btn"></fa-icon> advances to the next initiative in the order.</li>
                <li>Current Turn. This will increment when the initiatve order flips from the last one in the order to the first one. You can manual increment the Turn with the +/- icons.</li>
              </ul>
              <p>Next area is the list of the combatants, sorted in the initiative order. Each combatant row comprises of:
              </p>
              <ul>
                <li>Initiative selector (<input type="radio" [checked]="true" /> click to set the current initiative).
                </li>
                <li>Iniative value (this can be set manually as needed).</li>
                <li>Initiative dice (<fa-icon [icon]="faDice" class=" csd-icon-btn"></fa-icon> - rolls that combatant's
                  intiative with all
                  modifiers).</li>
                <li>OR current condition of the combatant (<fa-icon [icon]="faEyeSlash" class=" csd-icon-btn"></fa-icon>
                  - Stunned/
                  <fa-icon [icon]="faSkullCrossbones" class=" csd-icon-btn"></fa-icon> - Dead). If a condition is
                  affecting the combatant, then the initiative will be hidden by the icon. To remove the condition either set Death State to below 10 or uncheck the Is Stunned on the combatants details.
                </li>
                <li>Combatant's Name (truncated if too long) with current wounds/wound level below.
                  <ul>
                    <li><fa-icon [icon]="faTint" class="csd-icon-btn"></fa-icon> - Light wound</li>
                    <li><fa-icon [icon]="faHeart" class="csd-icon-btn"></fa-icon> - Serious wound </li>
                    <li><fa-icon [icon]="faHeartBroken" class=" csd-icon-btn"></fa-icon> - Critical Wound </li>
                    <li><fa-icon [icon]="faHeartbeat" class=" csd-icon-btn"></fa-icon> x N - Mortal Wound </li>
                    <li><fa-icon [icon]="faSkull" class=" csd-icon-btn"></fa-icon> x N - Death State </li>
                  </ul>
                  Click on the Combatant's name will display that combatants in the detail panel on the right/bottom of
                  the page.
                </li>
                <li>Delete <fa-icon [icon]="faTrash" class=" csd-icon-btn"></fa-icon> or Copy<fa-icon [icon]="faCopy"
                    class="csd-icon-btn"></fa-icon> buttons. Delete will remove the combatant from the tracker. The Copy
                  will make a new
                  copy of the combatant.</li>
              </ul>
              <p>
                Changing the initatiive value will resort the order automatically. Hovering over the initiative value,
                you
                will also be able to roll initiative.
                Click on the dice icon. This will add the REF stat and Combat Sesnse to the roll.
              </p>
              <p>
                You can click on the <fa-icon [icon]="faPlus" class=" csd-icon-btn"></fa-icon> button at the bottom of
                the list add new blank combatant to the list.
              </p>
            </div>
          </div>
          <div class="col-12">
            <h5 (click)="isRightCollapsed = !isRightCollapsed" [attr.aria-expanded]="!isRightCollapsed"
              aria-controls="collapseRightPanel">
              <fa-icon [icon]="(isRightCollapsed)?faAngleDoubleRight:faAngleDoubleDown" class="csd-dice"
                title="Collapse instructions section"></fa-icon>&nbsp;Right Panel - Opponent Card
            </h5>
            <div id="collapseRightPanel" [collapse]="isRightCollapsed">
              <p>In this section you can enter the name, stats, skills, cyberware, and weapons of the combatant.</p>
              <p>Enter the combatant's name. Select their Role or choose a template. Templates are based on NPCs within
                the
                source books.
                Hovering over the selections will display the source bookk they can be found in.
                Once you select a Role, all the role skills will be added.
                If you choose a template all the stats, skills, cyberware, and weapons for that template will be filled
                in.
              </p>

              <h6 (click)="isWoundsCollapsed = !isWoundsCollapsed" [attr.aria-expanded]="!isWoundsCollapsed"
                aria-controls="collapseWounds">
                <fa-icon [icon]="(isWoundsCollapsed)?faAngleDoubleRight:faAngleDoubleDown" class="csd-dice"
                  title="Collapse instructions section"></fa-icon>&nbsp;WOUNDS
              </h6>
              <div id="collapseWounds" [collapse]="isWoundsCollapsed">
                <p>
                  The Wounds section is where to make save, keep track of the wounds, and show other effects for the
                  combatant.
                </p>
                <p>
                  Hovering over the Stun/Death Save will show the dice icon. Click on these icon will prompt for a
                  modifier to the roll and then roll it.
                  If the stun save fails, the STUNNED checkbox will be marked. This will also show in the Left Panel for
                  that combatant.
                  The Death State indicator will show up if the combatant has failed their Death Save. Remember to
                  advance the death state each turn.
                  This too will show up on the combatant in the Left Panel.
                </p>
              </div>
              <h6 (click)="isArmorCollapsed = !isArmorCollapsed" [attr.aria-expanded]="!isArmorCollapsed"
                aria-controls="collapseArmor">
                <fa-icon [icon]="(isArmorCollapsed)?faAngleDoubleRight:faAngleDoubleDown" class="csd-dice"
                  title="Collapse instructions section"></fa-icon>&nbsp;ARMOR
              </h6>
              <div id="collapseArmor" [collapse]="isArmorCollapsed">
                <p>
                  Armor section is to fill in the SP for the location. This is tracking and updated manuallly. Future
                  update will address this in the coming months.
                </p>
              </div>
              <h6 (click)="isModifiedCollapsed = !isModifiedCollapsed" [attr.aria-expanded]="!isModifiedCollapsed"
                aria-controls="collapseMods">
                <fa-icon [icon]="(isModifiedCollapsed)?faAngleDoubleRight:faAngleDoubleDown" class="csd-dice"
                  title="Collapse instructions section"></fa-icon>&nbsp;COMBAT MODIFIERS
              </h6>
              <div id="collapseMods" [collapse]="isModifiedCollapsed">
                <p>This is where the sausage is made. This section will contain all the weapons the combatant has and
                  list out the modifiers for combat.</p>
                <p>
                  In the weapon section, all the weapons added to the combatant from the WEAPONS tab will display here.
                  It will also display the total modifier to the d10 for rolling against the DIFF, whichis set by the
                  Range to Target.
                  Click on the dice icon will generate a roll and show the results vs the DIFF.
                  You shoud set the Range to Target and check off all applicable modifiers before rolling.
                </p>
                <p>
                  The next line in the weapon show the stats of the weapon: type, weapon accuracy, damage, shots
                  (used/capacity), rate of fire, reliability, and range.
                  Click on the dice icon next to damage will roll the damage and show the individual dice.
                  Shots you can keep track of how many shots the weapon has fired. Once the shots fired equals to the
                  capacity, the weapon will be locked until the reload is clicked.
                  The reliabilit dice is similiar. If a Reliabilty check is required, and the weapon jams, then it will
                  lock the weapon and show how many turns it will take to unjam it.
                </p>
                <p>
                  After the weapon is where tracking of the modifiers to hit are done. Enter a range and then check off
                  all the modifiers that apply.
                  This will update the skill roll above as well as the DIFF when the range changes.
                </p>
              </div>
              <h6 (click)="isStatCollapsed = !isStatCollapsed" [attr.aria-expanded]="!isStatCollapsed"
                aria-controls="collapseStats">
                <fa-icon [icon]="(isStatCollapsed)?faAngleDoubleRight:faAngleDoubleDown" class="csd-dice"
                  title="Collapse instructions section"></fa-icon>&nbsp;STATS
              </h6>
              <p id="collapseStats" [collapse]="isStatCollapsed">
                This section you can enter stats for the combatant or
                roll all the stats randomly.
                The second box on the stat is for any modifications to the stat due to situation, cyberware, drug
                effects,
                etc.This box is updated manually.
                There is a dice icon next to each stat. Clicking on it you will be prompt to roll a stat roll (stat +
                1d10) or a save (1d10 less than or equal to stat).
                Stat rolls are of skills not listed in the Skills section.
              </p>
              <h6 (click)="isSkillCollapsed = !isSkillCollapsed" [attr.aria-expanded]="!isSkillCollapsed"
                aria-controls="collapseSkills">
                <fa-icon [icon]="(isSkillCollapsed)?faAngleDoubleRight:faAngleDoubleDown" class="csd-dice"
                  title="Collapse instructions section"></fa-icon>&nbsp;SKILLS
              </h6>
              <div id="collapseSkills" [collapse]="isSkillCollapsed">
                <p>
                  The skills section includes an entry for the Special Ability of the role and lists of skills.
                  The special ability can be chosen or will be filled in if a Role is selected.
                  Hovering over the stat will show the trash bin icon if you want to delete this special ability and
                  choose another.
                </p>
                <p>
                  You can add more skills to the combatant by choosing the skill (see <a href="/data/skills">Master
                    Skill
                    List</a> for the full list and description) and setting its value.
                </p>
                <p>
                  The dice icon will roll the skill adding the value, stat, and die roll to generate the total value
                  rolled.
                </p>
              </div>

              <h6 (click)="isCyberwareCollapsed = !isCyberwareCollapsed" [attr.aria-expanded]="!isCyberwareCollapsed"
                aria-controls="collapseCyberware">
                <fa-icon [icon]="(isCyberwareCollapsed)?faAngleDoubleRight:faAngleDoubleDown" class="csd-dice"
                  title="Collapse instructions section"></fa-icon>&nbsp;CYBERWARE
              </h6>
              <div id="collapseCyberware" [collapse]="isCyberwareCollapsed">
                <p>
                  This is where you can add cyberware. The dice icon is to randomly roll for some basic cyberware.
                  The table used is a modified version of the one from Fast and Dirty Expendable characters (see
                  Cyberpunk 2020 main book, page 30).
                  Currently there is no logic to adjust stats or skills.
                  Nor is it smart enough to know that you can't have 2 speedwares. Someday it will get updated.
                </p>
                <p>To add cyberware add its name and any options that piece may have.</p>
                <p>hovering over a piece of cyberware will show the trash bin icon so you can remove it from teh list.
                </p>
              </div>
              <h6 (click)="isWeaponCollapsed = !isWeaponCollapsed" [attr.aria-expanded]="!isWeaponCollapsed"
                aria-controls="collapseWeapon">
                <fa-icon [icon]="(isWeaponCollapsed)?faAngleDoubleRight:faAngleDoubleDown" class="csd-dice"
                  title="Collapse instructions section"></fa-icon>&nbsp;WEAPONS
              </h6>
              <div id="collapseWeapon" [collapse]="isWeaponCollapsed">
                <p>
                  Similar to the cyberware section.
                  The dice icon will randomly generate a weapon from a modified table.
                  You can add your own as needed by filling out the stats for the weapon.
                </p>
                <p>
                  Each weapon list will show the dice icon for the weapon damage and the reliability (if any).
                  Click on them will generate a dice roll. For damage it will displace the die rolled and total damage.
                  For the reliability it will tell you if there was a jam or not.
                </p>
              </div>
              <h6 (click)="isGearCollapsed = !isGearCollapsed" [attr.aria-expanded]="!isGearCollapsed"
                aria-controls="collapseGear">
                <fa-icon [icon]="(isGearCollapsed)?faAngleDoubleRight:faAngleDoubleDown" class="csd-dice"
                  title="Collapse instructions section"></fa-icon>&nbsp;GEAR
              </h6>
              <div id="collapseGear" [collapse]="isGearCollapsed">
                <p>
                  This is just a simple list of gear. Just add them as needed. Nothing special as been implemented yet.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
